<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Page Title</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
</head>
<body>
    <button type="button" class="btn btn-primary my-2 btn-lg btn-block" onclick="toggleShowUser();">Show Users.</button>
    <span style="background: orangered; border-left: red; padding: 5px; color: bisque; display:block; text-align: center;">j'ai fait le m√®me url dans les images pour ne pas uploader beaucoup et merci.</span>
    <div id="edit" onclick="" class="mx-auto col-5" style="display: block;">
        <div class="form-group">
            <label for="exampleFormControlInput1">Le Nom :</label>
            <input type="text" class="form-control" id="name">
          </div>
        <div class="form-group">
            <label for="exampleFormControlTextarea1">La Bio : </label>
            <textarea class="form-control" id="bio" rows="3"></textarea>
          </div>
        <button class="btn btn-outline-dark" id="submit">OK</button>
    </div>
    <div id="out" style="display:none;">
    <div class="class1"></div>
    </div>
    
</body>
        <script>
        users = [
            {
                pic: "https://lorempixel.com/300/300?11",
                name: "toto",
                bio: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Officia consequuntur illum dolor!"
            },
            {
                pic: "https://lorempixel.com/300/300?11",
                name: "zozo",
                bio: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Officia consequuntur illum dolor!"
            },
            {
                pic: "https://lorempixel.com/300/300?11",
                name: "roro",
                bio: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Officia consequuntur illum dolor!"
            },
            {
                pic: "https://lorempixel.com/300/300?11",
                name: "fofo",
                bio: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Officia consequuntur illum dolor!"
            },
            {
                pic: "https://lorempixel.com/300/300?11",
                name: "koko",
                bio: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Officia consequuntur illum dolor!"
            },
            {
                pic: "https://lorempixel.com/300/300?11",
                name: "bobo",
                bio: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Officia consequuntur illum dolor!"
            },
            {
                pic: "https://lorempixel.com/300/300?11",
                name: "dodo",
                bio: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Officia consequuntur illum dolor!"
            },
            {
                pic: "https://lorempixel.com/300/300?11",
                name: "jojo",
                bio: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Officia consequuntur illum dolor!"
            },
            {
                pic: "https://lorempixel.com/300/300?11",
                name: "roro",
                bio: "Lorem ipsum dolor sit amet consectetur adipisicing elit. Officia consequuntur illum dolor!"
            }
        ]

        function showUsersKanban(userArray, id) 
        {
            var gabari = document.querySelector(id);
            var divelt = document.createElement("div");
            divelt.className = "d-flex flex-wrap align-content-around justify-content-around m-5 p-5 class1";
            divelt.style = " background: olive;";
            for (key in userArray) {
                var cadre = document.createElement("div");
                cadre.innerHTML = '<div class="card m-3" style="width: 18rem;"> '+
                                  '<img src="'+userArray[key].pic+'" class="card-img-top" alt="...">'+
                                  '<div class="card-body"><h5 class="card-title">'+userArray[key].name+'</h5>'+
                                  '<p class="card-text">'+userArray[key].bio+'</p>'+
                                  '<a href="#" class="btn btn-success" onclick="modifyUser('+key+');">Modifier</a></div></div>';

                divelt.appendChild(cadre);
            }
            if(gabari.hasChildNodes()){
            var child = document.getElementsByClassName("class1")[0];
            gabari.removeChild(child);}
            gabari.append(divelt);
            gabari.style.display = "inline";
        }

        function showUsersTable(userArray, id) 
        {
            var gabari = document.querySelector(id);
            var divelt = document.createElement("div");
            divelt.className = "m-5 p-5 class1";
            divelt.style = " background: olive;";
            var html = '<table class="table table-bordered table-hover" style="background:white"><thead>'+
                        '<tr><th scope="col">Image</th><th scope="col">full name</th><th scope="col">Biography</th><th scope="col">Modifier</th></tr></thead><tbody>';
            for (key in userArray) {
                html += '<tr><td><img src="'+userArray[key].pic+'" width=50% alt="..."></td><td>'+userArray[key].name+'</td> <td>'+userArray[key].bio+'</td> <td><a href="#" onclick="modifyUser('+key+');">Modifier</a></td> </tr>';
            }
            html += '</tbody></table>';
            divelt.innerHTML = html;
            if(gabari.hasChildNodes()){
            var child = gabari.getElementsByClassName("class1")[0];
            gabari.removeChild(child);}
            gabari.append(divelt);
            gabari.style.display = "inline";
        }

        var flagSwitch = true;
        
        function toggleShowUser()
        {
            if(flagSwitch) {
                showUsersKanban(users, "#out");
                flagSwitch = false;
            }
            else {
                showUsersTable(users, "#out");
                flagSwitch = true;
            }
            document.getElementById("edit").style.display = "none";
        }
        toggleShowUser();

        function modifyUser(key) {
            var name = document.getElementById("name");
            var bio = document.getElementById("bio");
            name.value = users[key].name;
            bio.value = users[key].bio;
            document.getElementById("edit").style.display = "block";
            document.getElementById("out").style.display = "none";
            document.getElementById("submit").addEventListener("click", function(){
                users[key].name = name.value;
                users[key].bio = bio.value;
                toggleShowUser();
            });
        }
        
    </script>
</html>